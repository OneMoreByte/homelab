- name: Check for alacritty terminfo
  ansible.builtin.shell: infocmp alacritty
  ignore_errors: true
  register: infocmp_alacritty

- name: Get term info file for alacritty
  get_url:
    url: https://raw.githubusercontent.com/alacritty/alacritty/master/extra/alacritty.info
    dest: /tmp/alacritty.info
  when: infocmp_alacritty.rc != 0

- name: Install term info file for alacritty
  become: yes
  ansible.builtin.shell: "tic -xe alacritty,alacritty-direct /tmp/alacritty.info"
  when: infocmp_alacritty.rc != 0
