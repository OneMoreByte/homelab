- name: install gluster client package when on hatty distro
  dnf:
    name:
    - glusterfs-client
    state: latest
  when: ansible_facts['os_family'] == "RedHat"

- name: install gluster client when on ubuntu
  apt_repository:
    repo: ppa:gluster/glusterfs-10
    state: present
  when: ansible_facts['distribution'] == "Ubuntu"

- name: install gluster client when on ubuntu
  apt:
    name:
    - glusterfs-client
    state: latest
  when: ansible_facts['distribution'] == "Ubuntu"