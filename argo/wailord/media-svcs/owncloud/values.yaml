ocis:
  externalDomain: drive.jackhil.de

  image:
    repository: owncloud/ocis
    tag: "7.1.2"
  features:
    emailNotifications:
      enabled: false
      smtp:
        host: host.name
        port: 1
        sender: "e <e@eeeee.e>"
        authentication: plain
        encryption: ssl
    sharing:
      publiclink:
        shareMustHavePassword: true
      passwordPolicies:
        minCharacters: 24
    externalUserManagement:
      enabled: true
      oidc:
        issuerURI: https://auth.jackhil.de
        sessionManagementLink: https://auth.jackhil.de/realms/master/account/
        editAccountLink: https://auth.jackhil.de/realms/master/account/
        userIDClaim: ocis.user.uuid
        roleAssignment:
          enabled: true
          claim: roles
          mapping:
            - role_name: admin
              claim_value: ocisAdmin
            - role_name: spaceadmin
              claim_value: ocisSpaceAdmin
            - role_name: user
              claim_value: ocisUser
            - role_name: user-light
              claim_value: ocisGuest

      autoprovisionAccounts:
        enabled: true


    ocm:
      enabled: true

  ingress:
    enabled: true
    tls:
      - secretName: jackhil.de-cert
        hosts:
          - drive.jackhil.de


  services:
    web:
      oidc:
        webClientID: ocis

    storagesystem:
      persistence:
        enabled: true
    storageusers:
      storageBackend:
        driver: ocis

      maintenance:
        cleanUpExpiredUploads:
          enabled: true
        purgeExpiredTrashBinItems:
          enabled: true
        restartPostprocessing:
          enabled: true

      persistence:
        enabled: True
        existingClaim: owncloud-local-producers-pvc

      nodeSelector:
        app: bulk-datastore
